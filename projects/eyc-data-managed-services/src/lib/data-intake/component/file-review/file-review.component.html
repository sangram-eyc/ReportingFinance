<div class="motif-row">
   <div class="motif-col-xs-4 motif-col-sm-4 motif-col-md-12 motif-col-lg-12 motif-col-xl-12">
      <div class=" mt-3">
         <motif-breadcrumb maxItems=3>
            <motif-breadcrumb-item breadcrumbValue='Data Intake' breadcrumbLink='/'>
            </motif-breadcrumb-item>
            <motif-breadcrumb-item  breadcrumbValue='Files' breadcrumbLink='/' active="active">
            </motif-breadcrumb-item>
         </motif-breadcrumb>
      </div>
   </div>
</div>
<div class="motif-row">
   <div class="motif-col-xs-4 motif-col-sm-4 motif-col-md-12 motif-col-lg-12 motif-col-xl-12">
      <div class="space-between boder-b">
         <div class="mt-3 mb-3 bx">
            <h1>Files</h1>
         </div>
         <div class="mt-3 mb-3 dateWrapper">
            <div class="bx">
               <motif-icon [src]="'/assets/icons/navigation/ic_chevron_left_24px.svg'" (click)="dateSub(presentDate)">
               </motif-icon>
               <motif-icon [src]="'/assets/icons/navigation/ic_chevron_right_24px.svg'" (click)="dateAdd(presentDate)">
               </motif-icon>
            </div>
            <div>{{ curDate }}</div>
            <div class="px-3"><i class="material-icons" for="datepicker">date_range</i></div>
            <div class="bx">
               <button #dailyfilter motifButton color="primary-alt" (click)="dailyData()">Daily</button>
               <button #monthlyfilter motifButton color="secondary" (click)="monthyData()">Monthly</button>
            </div>

         </div>
      </div>
   </div>
</div>

<div class="motif-row">
   <div class="motif-col-xs-4 motif-col-sm-4 motif-col-md-12 motif-col-lg-12 motif-col-xl-12 chip-container">
      <div class="left-div">Fast Filters: </div>
      <motif-chip-group>
         <motif-chip [removeable]="false" variant="monochrome-dark">All</motif-chip>
         <motif-chip [removeable]="false" variant="monochrome-dark">No issues</motif-chip>
         <motif-chip [removeable]="false" variant="monochrome-dark">Medium / low priority issues</motif-chip>
         <motif-chip [removeable]="false" variant="monochrome-dark">High priority issues</motif-chip>
         <motif-chip [removeable]="false" variant="monochrome-dark">Missing files, past due</motif-chip>
         <motif-chip [removeable]="false" variant="monochrome-dark">Files not received</motif-chip>
      </motif-chip-group>
   </div>
</div>

<div class="motif-row">
   <div class="motif-col-xs-4 motif-col-sm-4 motif-col-md-3 motif-col-lg-3 motif-col-xl-3">
      <!-- Card Files Review Start -->
      <motif-card class="donut-chart-card no_data">
         <!-- Donut chart integration -->
         <lib-donut-chart id="donutchart" 
         [data]="fileSummaries"
         legendTextSliceNumber=23
         width=155 
         height=155 
         margin=13 
         innerRadius=90
         svgTranslateLeft=90
         svgTranslateRight=90
         totalFilesText="TOTAL FILES"
         totalExpected="EXPECTED"> 
      </lib-donut-chart>
      </motif-card>

      <!-- end  -->
   </div>
   <div class="motif-col-xs-4 motif-col-sm-4 motif-col-md-5 motif-col-lg-9 motif-col-xl-9">
      <!-- Provide Stack bar chart Start  -->
      <motif-card class="bar-chart-card no_data">
         <motif-card-header>
            <div class="inner-tabs">
               <motif-tab-bar>
                  <button motifButton class="motif-text-link" (click)="innerTabChange(1)"
                     [ngClass]="innerTabIn == 1 ? 'motif-active' : '' ">
                     Provider
                  </button>
                  <button motifButton class="motif-text-link" (click)="innerTabChange(2)"
                     [ngClass]="innerTabIn == 2 ? 'motif-active' : '' ">
                     Data Domain
                  </button>
               </motif-tab-bar>
            </div>
         </motif-card-header>
         <motif-card-body>
            <section id='data-provider' [hidden]="!(innerTabIn == 1)">
               <div class="bar-chart-panel">
                  <div id="StackBarChart-provider">
                     <div class="bar-chart-body">
                        <div class="chart-container" [hidden]="(totalFileCount==0)">
                           <!-- Chart placeholder -->
                           <eyc-charts-bar-vertical-stacked class="chart-container" [scheme]="colorSchemeAll"
                              [results]="multi" [animations]="animations" [gradient]="gradient"
                              [tooltipDisabled]="tooltipDisabled" [xAxis]="showXAxis" [yAxis]="showYAxis"
                              [legend]="showLegend" [legendTitle]="legendTitle" [legendPosition]="legendPosition"
                              [showXAxisLabel]="showXAxisLabel" [showYAxisLabel]="showYAxisLabel"
                              [xAxisLabel]="xAxisLabel" [yAxisLabel]="yAxisLabel" [showGridLines]="showYAxisGridLines"
                              [barPadding]="barPadding" [roundDomains]="roundDomains" [yScaleMax]="yScaleMax"
                              [noBarWhenZero]="noBarWhenZero" [showDataLabel]="showDataLabel"
                              [trimXAxisTicks]="trimXAxisTicks" [trimYAxisTicks]="trimYAxisTicks"
                              [rotateXAxisTicks]="rotateXAxisTicks" [maxXAxisTickLength]="maxXAxisTickLength"
                              [maxYAxisTickLength]="maxYAxisTickLength" (select)="select($event)"
                              (activate)="activate($event)" (deactivate)="deactivate($event)">
                           </eyc-charts-bar-vertical-stacked>
                        </div>

                        <div class="toast-card" [hidden]="!(totalFileCount==0)">
                           <div class="toast-icon">
                              <i class="material-icons md-light">check_circle</i>
                           </div>
                           <div class="toast-card-body">No files missing at the moment
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </section>
            <section id='data-domain' [hidden]="!(innerTabIn == 2)">
               <div class="bar-chart-panel">
                  <div id="StackBarChart-domain">
                     <div class="bar-chart-body">
                        <div class="chart-container" [hidden]="(totalFileCount==0)">
                           <!-- Chart placeholder -->
                           <eyc-charts-bar-vertical-stacked class="chart-container" [scheme]="colorSchemeAll"
                              [results]="multi" [animations]="animations" [gradient]="gradient"
                              [tooltipDisabled]="tooltipDisabled" [xAxis]="showXAxis" [yAxis]="showYAxis"
                              [legend]="showLegend" [legendTitle]="legendTitle" [legendPosition]="legendPosition"
                              [showXAxisLabel]="showXAxisLabel" [showYAxisLabel]="showYAxisLabel"
                              [xAxisLabel]="xAxisLabel" [yAxisLabel]="yAxisLabel" [showGridLines]="showYAxisGridLines"
                              [barPadding]="barPadding" [roundDomains]="roundDomains" [yScaleMax]="yScaleMax"
                              [noBarWhenZero]="noBarWhenZero" [showDataLabel]="showDataLabel"
                              [trimXAxisTicks]="trimXAxisTicks" [trimYAxisTicks]="trimYAxisTicks"
                              [rotateXAxisTicks]="rotateXAxisTicks" [maxXAxisTickLength]="maxXAxisTickLength"
                              [maxYAxisTickLength]="maxYAxisTickLength" (select)="select($event)"
                              (activate)="activate($event)" (deactivate)="deactivate($event)">
                           </eyc-charts-bar-vertical-stacked>
                        </div>

                        <div class="toast-card" [hidden]="!(totalFileCount==0)">
                           <div class="toast-icon">
                              <i class="material-icons md-light">check_circle</i>
                           </div>
                           <div class="toast-card-body">No files missing at the moment
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </section>
         </motif-card-body>
      </motif-card>
      <!-- end  -->
   </div>
</div>

<div id="table">
   <div class="motif-row">
      <div class="motif-col-xs-4 motif-col-sm-4 motif-col-md-12 motif-col-lg-12 motif-col-xl-12 space-between">
         <div class="heading-6 bx my-3">
            List of Files (#)
         </div>
         <div  class="my-3">
            <motif-form-field>
               <input #activeReports motifInput motifSearch type="text" placeholder="Search" aria-label="Search">
            </motif-form-field>
         </div>
      </div>
   </div>

   <div id="grid-wrapper">
      <motif-card>
         <motif-table [columnDefs]="columnGl" [rowData]="glRowdata" rowSelection="multiple"
            (gridReady)="onGridReady($event)" [suppressRowClickSelection]="true" [suppressCellSelection]="true"
            [domLayout]="domLayout" [pagination]="false" [paginationPageSize]="currentlySelectedPageSize.value">
         </motif-table>
      </motif-card>
   </div>

   <motif-card class="no_data" *ngIf="searchNoDataAvilable">
      <motif-card-body>
         <h5>Your search has returned no results. Please adjust and try again.</h5>
      </motif-card-body>
   </motif-card>

   <ng-template #chipTemplate let-row class="space-between">
      <div class="grid-status">
         <motif-chip [removeable]="false" *ngIf="row.Status=='High'" variant="warning">High
         </motif-chip>
         <motif-chip [removeable]="false" *ngIf="row.Status=='Medium / Low'" variant="info">Medium / Low</motif-chip>
         <motif-chip [removeable]="false" *ngIf="row.Status=='Missing'" variant="error">Missing</motif-chip>
         <motif-chip [removeable]="false" *ngIf="row.Status=='No Issues'" variant="success">No Issues</motif-chip>
      </div>
      <!-- <div>
         <motif-icon [src]="'./assets/icons/navigation/ic_chevron_right_24px.svg'"></motif-icon>
      </div> -->
   </ng-template>
   <!-- Tooltip -->
   <ng-template #threeDotTooltip let-row>
      {{stringTrim(row.file)}}
      <motif-tooltip placement="auto" color="alternate">
         <a motifTooltipTrigger motifTextLink aria-label="tooltip" href="javascript:void(0)">
            ...
         </a>
         <div class="tooltip-text">
            <div>
               <span class="label">File: </span>
               <label>{{row.file}}</label>
            </div>
            <div>
               <span class="label">Verison: </span>
               <label>Verison name</label>
            </div>
         </div>
      </motif-tooltip>
   </ng-template>

   <ng-template #threeDotFunctionTooltip let-row>
      {{stringTrim(row.functions)}}
      <motif-tooltip placement="auto" color="alternate">
         <a motifTooltipTrigger motifTextLink aria-label="tooltip" href="javascript:void(0)">
            ...
         </a>
         <ul>
            <li>TRMS</li>
            <li>RRMS</li>
            <li>CPO-POR</li>
            <li>TAX</li>
            <li>Function 5</li>
         </ul>
      </motif-tooltip>
   </ng-template>

   <ng-template #threeDotExceptionsTooltip let-row>
      {{stringTrim(row.exceptions)}}
      <motif-tooltip placement="auto" color="alternate">
         <a motifTooltipTrigger motifTextLink aria-label="tooltip" href="javascript:void(0)">
            ...
         </a>
         <ul>
            <li>Fund completeness</li>
            <li>Column completeness</li>
            <li>Null check</li>
            <li>Gav nav variance</li>
            <li>Maturity date</li>
         </ul>
      </motif-tooltip>
   </ng-template>
   <!-- <ng-template #rname let-row>
      <a href="">{{row.rname}}</a>
   </ng-template>
   <ng-template #commentscount let-row>
      <motif-chip [removeable]="false" variant="monochrome-dark">{{row.comments}}</motif-chip>
   </ng-template> -->
   <ng-template #nextButtonTemplate let-row>
      <motif-icon [src]="'./assets/icons/navigation/ic_chevron_right_24px.svg'"></motif-icon>
   </ng-template>
   <!-- <ng-template #commentTemplate let-row>
      <div *ngIf="row.comments!==0" class="comments-background">
         {{row.comments}}
      </div>
   </ng-template> -->

   <!-- Tooltip -->
   <div class="flex-end mt-3" [hidden]="searchNoDataAvilable || noCompletedDataAvilable">
      <motif-pagination>
         <button motifIconButton size="medium" aria-label="Go to first page"
            (click)="handlePageChange((currentPage = 1))" [disabled]="currentPage === 1">
            <motif-icon [src]="'./assets/icons/navigation/ic_first_page_24px.svg'"></motif-icon>
         </button>
         <button motifIconButton size="medium" aria-label="Go to previous page"
            (click)="handlePageChange(currentPage - 1)" [disabled]="currentPage === 1">
            <motif-icon [src]="'./assets/icons/navigation/ic_chevron_left_24px.svg'"></motif-icon>
         </button>
         <span class="page-description">Page <span class="page-number">{{currentPage}}</span> of <span
               class="page-number">{{maxPages}}</span></span>
         <button motifIconButton size="medium" aria-label="Go to next page" (click)="handlePageChange(currentPage + 1)"
            [disabled]="currentPage === maxPages">
            <motif-icon [src]="'./assets/icons/navigation/ic_chevron_right_24px.svg'"></motif-icon>
         </button>
         <button motifIconButton size="medium" aria-label="Go to last page"
            (click)="handlePageChange((currentPage = maxPages))" [disabled]="currentPage === maxPages">
            <motif-icon [src]="'./assets/icons/navigation/ic_last_page_24px.svg'"></motif-icon>
         </button>
      </motif-pagination>

      <motif-pagination-select label="Show" [selected]="currentlySelectedPageSize" [options]="dataset"
         (paginationSelectChange)="updatePaginationSize($event.value)">
      </motif-pagination-select>
   </div>
   <motif-card class="no_data" *ngIf="noCompletedDataAvilable">
      <motif-card-body>
         <h5>No results found.</h5>
      </motif-card-body>
   </motif-card>
</div>