<div class="motif-row">
   <div class="motif-col-xs-4 motif-col-sm-4 motif-col-md-12 motif-col-lg-12 motif-col-xl-12">
      <div class=" mt-3">
         <motif-breadcrumb maxItems=3>
            <motif-breadcrumb-item breadcrumbValue='Data Intake' breadcrumbLink='/data-managed-services'>
            </motif-breadcrumb-item>
            <motif-breadcrumb-item  breadcrumbValue='Files' breadcrumbLink='/data-managed-services/files-review'  active="active">
            </motif-breadcrumb-item>
         </motif-breadcrumb>
      </div>
   </div>
</div>
<div class="motif-row">
   <div class="motif-col-xs-4 motif-col-sm-4 motif-col-md-12 motif-col-lg-12 motif-col-xl-12">
      <div class="space-between boder-b">
         <div class="mt-3 mb-3 box-center">
            <h1>Files</h1>
         </div>
         <div class="dateWrapper">
            <div class="px-3 date-ui">
               <form [formGroup]="form" novalidate>
                  <motif-form-field>
                     <label motifLabel for="datepicker">Date (required)</label>
                     <input
                        motifDatepicker
                        class="motif-input"
                        name="mydate"
                        id="datepicker"
                        #dp="motifDatepicker"
                        placeholder="YYYY-MM-DD"
                        (click)="dp.openCalendar()"
                        (dateChanged)="toggleCalendar($event)"
                        autocomplete="off"
                        [required]="true"
                        formControlName="datepicker"
                        [options]="{dateRange: false, dateFormat: 'yyyy-mm-dd'}"
                     />
                 </motif-form-field>
               </form>
            </div>
            <div class="box-center">
               <button #dailyfilter motifButton color="primary-alt" (click)="dailyData(false)">Daily</button>
               <button #monthlyfilter motifButton color="secondary" (click)="monthlyData(true)">Monthly</button>
            </div>

         </div>
      </div>
   </div>
</div>

<div class="motif-row">
   <div class="motif-col-xs-4 motif-col-sm-4 motif-col-md-12 motif-col-lg-12 motif-col-xl-12 chip-container">
      <div class="left-div">FAST FILTERS: </div>
      <motif-chip-group>
         <motif-chip [removeable]="false" (click)="filterByIssues('all', allIssueVariant)" [variant]="allIssueVariant">All
         </motif-chip>
         <motif-chip [removeable]="false" (click)="filterByIssues(FILTER_TYPE.NO_ISSUES, noIssueVariant)"
            [variant]="noIssueVariant">{{FILTER_TYPE_TITLE[FILTER_TYPE.NO_ISSUES]}}</motif-chip>
         <motif-chip [removeable]="false" (click)="filterByIssues(FILTER_TYPE.MEDIUM_LOW, mediumLowIssueVariant)"
            [variant]="mediumLowIssueVariant">{{FILTER_TYPE_TITLE[FILTER_TYPE.MEDIUM_LOW]}}</motif-chip>
         <motif-chip [removeable]="false" (click)="filterByIssues(FILTER_TYPE.HIGH, highIssueVariant)"
            [variant]="highIssueVariant">{{FILTER_TYPE_TITLE[FILTER_TYPE.HIGH]}}</motif-chip>
         <motif-chip [removeable]="false" (click)="filterByIssues(FILTER_TYPE.MISSING_FILES, missingFileVariant)"
            [variant]="missingFileVariant">{{FILTER_TYPE_TITLE[FILTER_TYPE.MISSING_FILES]}}</motif-chip>
         <motif-chip [removeable]="false" (click)="filterByIssues(FILTER_TYPE.FILE_NOT_RECIEVED, fileNotReceivedVariant)"
            [variant]="fileNotReceivedVariant">{{FILTER_TYPE_TITLE[FILTER_TYPE.FILE_NOT_RECIEVED]}}</motif-chip>
      </motif-chip-group>
   </div>
</div>

<div class="motif-row">
   <div class="motif-col-xs-4 motif-col-sm-4 motif-col-md-3 motif-col-lg-3 motif-col-xl-3">
      <!-- Card Files Review Start -->
      <motif-card class="donut-chart-card no_data">
         <!-- Donut chart integration -->
         <lib-donut-chart id="donutchart" 
         [data]="fileSummaries"
         legendTextSliceNumber=23
         width=155 
         height=155 
         margin=13 
         innerRadius=90
         svgTranslateLeft=90
         svgTranslateRight=90
         totalFilesText="TOTAL FILES"
         totalExpected="EXPECTED"> 
      </lib-donut-chart>
      </motif-card>
      <!-- end  -->
   </div>
   <div class="motif-col-xs-4 motif-col-sm-4 motif-col-md-5 motif-col-lg-9 motif-col-xl-9">
      <!-- Provide Stack bar chart Start  -->
      <motif-card class="bar-chart-card no_data">
         <motif-card-header>
            <div class="inner-tabs">
               <motif-tab-bar>
                  <button motifButton class="motif-text-link" (click)="innerTabChange(1)"
                     [ngClass]="innerTabIn == 1 ? 'motif-active' : '' ">
                     Providers
                  </button>
                  <button motifButton class="motif-text-link" (click)="innerTabChange(2)"
                     [ngClass]="innerTabIn == 2 ? 'motif-active' : '' ">
                     Data Domains
                  </button>
               </motif-tab-bar>
            </div>
         </motif-card-header>
         <motif-card-body>
            <section id='data-provider' [hidden]="!(innerTabIn == 1)">
               <div class="bar-chart-panel">
                  <div id="StackBarChart-provider">
                     <div class="bar-chart-body">
                        <div class="chart-container" [hidden]="(totalFileCount==0)">
                           <!-- Chart placeholder -->
                           <eyc-charts-bar-vertical-stacked class="chart-container" [scheme]="colorSchemeAll"
                              [results]="stackBarChartData" [animations]="animations" [gradient]="gradient"
                              [tooltipDisabled]="tooltipDisabled" [xAxis]="showXAxis" [yAxis]="showYAxis"
                              [legend]="showLegend" [legendTitle]="legendTitle" [legendPosition]="legendPosition"
                              [showXAxisLabel]="showXAxisLabel" [showYAxisLabel]="showYAxisLabel"
                              [xAxisLabel]="xAxisLabel" [yAxisLabel]="yAxisLabel" [showGridLines]="showYAxisGridLines"
                              [barPadding]="barPadding" [roundDomains]="roundDomains" [yScaleMax]="yScaleMax"
                              [noBarWhenZero]="noBarWhenZero" [showDataLabel]="showDataLabel"
                              [trimXAxisTicks]="trimXAxisTicks" [trimYAxisTicks]="trimYAxisTicks"
                              [rotateXAxisTicks]="rotateXAxisTicks" [maxXAxisTickLength]="maxXAxisTickLength"
                              [maxYAxisTickLength]="maxYAxisTickLength" [barMaxWidth]="100" [customColors]="customColors">
                           </eyc-charts-bar-vertical-stacked>
                        </div>

                        <div class="toast-card" [hidden]="!(totalFileCount==0)">
                           <div class="toast-icon">
                              <i class="material-icons md-light">check_circle</i>
                           </div>
                           <div class="toast-card-body">No files missing at the moment
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </section>
            <section id='data-domain' [hidden]="!(innerTabIn == 2)">
               <div class="bar-chart-panel">
                  <div id="StackBarChart-domain">
                     <div class="bar-chart-body">
                        <div class="chart-container" [hidden]="(totalFileCount==0)">
                           <!-- Chart placeholder -->
                           <eyc-charts-bar-vertical-stacked class="chart-container" [scheme]="colorSchemeAll"
                              [results]="stackBarChartData" [animations]="animations" [gradient]="gradient"
                              [tooltipDisabled]="tooltipDisabled" [xAxis]="showXAxis" [yAxis]="showYAxis"
                              [legend]="showLegend" [legendTitle]="legendTitle" [legendPosition]="legendPosition"
                              [showXAxisLabel]="showXAxisLabel" [showYAxisLabel]="showYAxisLabel"
                              [xAxisLabel]="xAxisLabel2" [yAxisLabel]="yAxisLabel" [showGridLines]="showYAxisGridLines"
                              [barPadding]="barPadding" [roundDomains]="roundDomains" [yScaleMax]="yScaleMax"
                              [noBarWhenZero]="noBarWhenZero" [showDataLabel]="showDataLabel"
                              [trimXAxisTicks]="trimXAxisTicks" [trimYAxisTicks]="trimYAxisTicks"
                              [rotateXAxisTicks]="rotateXAxisTicks" [maxXAxisTickLength]="maxXAxisTickLength" [barMaxWidth]="100"
                              [customColors]="customColors" [maxYAxisTickLength]="maxYAxisTickLength">
                           </eyc-charts-bar-vertical-stacked>
                        </div>

                        <div class="toast-card" [hidden]="!(totalFileCount==0)">
                           <div class="toast-icon">
                              <i class="material-icons md-light">check_circle</i>
                           </div>
                           <div class="toast-card-body">No files missing at the moment
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </section>
         </motif-card-body>
      </motif-card>
      <!-- end  -->
   </div>
</div>

<div id="table">
   <div class="motif-row">
      <div class="motif-col-xs-4 motif-col-sm-4 motif-col-md-12 motif-col-lg-12 motif-col-xl-12 space-between">
         <div class="heading-6 box-center my-3">
            List of files (#)
         </div>
         <div  class="my-3">
            <motif-form-field>
               <input #fileReview motifInput motifSearch type="text" placeholder="Search..." aria-label="Search">
            </motif-form-field>
         </div>
      </div>
   </div>

   <div id="grid-wrapper">
      <motif-card>
         <motif-table class="ag-cursor-pointer" [columnDefs]="columnGl" [rowData]="glRowdata" 
         rowSelection="single"
            (gridReady)="onGridReady($event)" (rowSelected)="onRowClicked($event)" [suppressRowClickSelection]="false" [suppressCellSelection]="true"
            [domLayout]="domLayout" [pagination]="false" [paginationPageSize]="currentlySelectedPageSize.value">
         </motif-table>
      </motif-card>
   </div>

   <motif-card class="no_data" *ngIf="searchNoDataAvilable">
      <motif-card-body>
         <h5>Your search has returned no results. Please adjust and try again.</h5>
      </motif-card-body>
   </motif-card>

   <ng-template #chipTemplate let-row class="space-between">
      <div class="grid-status">
         <motif-chip [removeable]="false" *ngIf="row.maxPriority==FILTER_TYPE.HIGH" variant="warning">{{FILTER_TYPE_TITLE.high}}</motif-chip>
         <motif-chip [removeable]="false" *ngIf="row.maxPriority==FILTER_TYPE.MEDIUM_LOW" variant="info">{{FILTER_TYPE_TITLE.mediumLow}}</motif-chip>
         <motif-chip [removeable]="false" *ngIf="row.maxPriority==FILTER_TYPE.MEDIUM" variant="info">{{FILTER_TYPE_TITLE.medium}}</motif-chip>
         <motif-chip [removeable]="false" *ngIf="row.maxPriority==FILTER_TYPE.MISSING_FILES" variant="error">{{FILTER_TYPE_TITLE.missingFiles}}</motif-chip>
         <motif-chip [removeable]="false" *ngIf="row.maxPriority==FILTER_TYPE.NO_ISSUES" variant="success">{{FILTER_TYPE_TITLE.noIssues}}</motif-chip>
         <motif-chip [removeable]="false" *ngIf="row.maxPriority==FILTER_TYPE.FILE_NOT_RECIEVED" variant="secondary">{{FILTER_TYPE_TITLE.fileNotReceived}}</motif-chip>
      </div>
   </ng-template>
   <!-- Tooltip -->
   <ng-template #threeDotTooltip let-row>
      {{stringTrim(row.name, 20)}}
      <motif-tooltip placement="auto" color="alternate" *ngIf="row.name?.length > 17">
         <a motifTooltipTrigger motifTextLink aria-label="tooltip" href="javascript:void(0)">
            ...
         </a>
         <div class="tooltip-text">
            <div>
               <span class="label">File: </span>
               <label>{{row.name}}</label>
            </div>
            <div>
               <span class="label">Verison: </span>
               <label>Verison name</label>
            </div>
         </div>
      </motif-tooltip>
   </ng-template>

   <ng-template #threeDotFunctionTooltip let-row>
      {{stringTrim(row.functions,20)}}
      <motif-tooltip placement="auto" color="alternate" *ngIf="row.functions?.length > 17">
         <a motifTooltipTrigger motifTextLink aria-label="tooltip" href="javascript:void(0)">
            ...
         </a>
         <span>{{row.functions}}</span>
      </motif-tooltip>
   </ng-template>

   <ng-template #threeDotExceptionsTooltip let-row>
      {{stringTrim(row.exceptions,20)}}
      <motif-tooltip placement="auto" color="alternate" *ngIf="row.exceptions?.length > 10">
         <a motifTooltipTrigger motifTextLink aria-label="tooltip" href="javascript:void(0)">
            ...
         </a>
         <span>{{row.exceptions}}</span>
      </motif-tooltip>
   </ng-template>

   <ng-template #nextButtonTemplate let-row>
      <motif-icon [src]="'./assets/icons/navigation/ic_chevron_right_24px.svg'"></motif-icon>
  
   </ng-template>

   <!-- Tooltip -->
   <div class="flex-end mt-3" [hidden]="searchNoDataAvilable || noCompletedDataAvilable">
      <motif-pagination>
         <button motifIconButton size="medium" aria-label="Go to first page"
            (click)="handlePageChange((currentPage = 1))" [disabled]="currentPage === 1">
            <motif-icon [src]="'./assets/icons/navigation/ic_first_page_24px.svg'"></motif-icon>
         </button>
         <button motifIconButton size="medium" aria-label="Go to previous page"
            (click)="handlePageChange(currentPage - 1)" [disabled]="currentPage === 1">
            <motif-icon [src]="'./assets/icons/navigation/ic_chevron_left_24px.svg'"></motif-icon>
         </button>
         <span class="page-description">Page <span class="page-number">{{currentPage}}</span> of <span
               class="page-number">{{maxPages}}</span></span>
         <button motifIconButton size="medium" aria-label="Go to next page" (click)="handlePageChange(currentPage + 1)"
            [disabled]="currentPage === maxPages">
            <motif-icon [src]="'./assets/icons/navigation/ic_chevron_right_24px.svg'"></motif-icon>
         </button>
         <button motifIconButton size="medium" aria-label="Go to last page"
            (click)="handlePageChange((currentPage = maxPages))" [disabled]="currentPage === maxPages">
            <motif-icon [src]="'./assets/icons/navigation/ic_last_page_24px.svg'"></motif-icon>
         </button>
      </motif-pagination>

      <motif-pagination-select label="Show" [selected]="currentlySelectedPageSize" [options]="dataset"
         (paginationSelectChange)="updatePaginationSize($event.value)">
      </motif-pagination-select>
   </div>
   <motif-card class="no_data" *ngIf="noCompletedDataAvilable">
      <motif-card-body>
         <h5>No results found.</h5>
      </motif-card-body>
   </motif-card>
</div>