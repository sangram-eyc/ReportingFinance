<div class="page-header">
    <h1 class="motif-h1">Tax Reporting</h1>
</div>
<div class="page-subheader">
    View tax reporting in production cycles, management reporting, archived reports and data explorer
</div>

<!--<div class="client-title">
    {{nameReport}}
</div>-->

<div class="eyc-tax-tabs">
    <motif-tab-bar>
        <button motifButton class="motif-text-link" (click)="reportTabChange(1)"
            [ngClass]="tabIn == 1 ? 'motif-active' : '' ">Production Cycles</button>
        <button motifButton class="motif-text-link" (click)="reportTabChange(2)"
            [ngClass]="tabIn == 2 ? 'motif-active' : '' ">Management Reporting</button>
    </motif-tab-bar>
</div>

<section id='active-reports' [hidden]="!(tabIn == 2)">
    <div id="reports-history-heading">
       <!--  <div class="search">
            <motif-form-field>
                <input #activeReports motifInput motifSearch type="text" (keypress)="searchFilingValidation($event)"
                    (keyup)="searchActiveReports(activeReports)" (paste)="onPasteSearchActiveReports($event)" placeholder="Search" aria-label="Search">
            </motif-form-field>
        </div> -->
        
        <div>
            <!--<h3>View tax reporting in production cycles, management reporting, archived reports and data explorer</h3>-->
            <h2 class='card-title'>Management reports</h2>
            <!-- <button>Upload report</button> -->
        </div>
    </div>
    
    <div class="row">
        <div class="each-card" *ngFor="let filing of activeFilings">
            <app-filing-card [filingData]="filing"></app-filing-card>
        </div>
    </div>
   
    

   <!--  <motif-card class="no_data" >
        <motif-card-body>
            <h5>Your search has returned no results. Please adjust and try again.</h5>
        </motif-card-body>
    </motif-card>-->

    <motif-card class="no_data" *ngIf="noActivatedDataAvilable">
        <motif-card-body>
            <h5>No results found.</h5>
        </motif-card-body>
    </motif-card> 

</section>

<section id='reports-history' [hidden]="!(tabIn == 1)">
    <div id="reports-history-heading">
    <h4 class="fw-bold">Production cycles list view</h4>
        <!-- <div class="search">
            <motif-form-field>
                <input #reportHistorySearch motifInput motifSearch type="text"
                    (keypress)="searchFilingValidation($event)" (keyup)="searchCompleted(reportHistorySearch)"
                    (paste)="onPasteSearchActiveReports($event)" placeholder="Search" aria-label="Search">
            </motif-form-field>
        </div> -->
    </div>
    <div id="grid-wrapper" [hidden]="searchNoDataAvilable || noCompletedDataAvilable">
        <ag-grid-angular class="ag-theme-alpine" (gridReady)="onGridReady($event)" [columnDefs]="columnDefs"
            [rowData]="rowData" [rowHeight]="74" [rowClass]="rowClass" [domLayout]="domLayout"
            [paginationPageSize]="currentlySelectedPageSize.value" [pagination]="false"></ag-grid-angular>

            <ng-template #productTemplate let-row>
                <button class="btn btn-link" (click)="getProdCycleDetail(row)" >{{row.name}}</button>
            </ng-template>

            <ng-template #statusTracker let-row>
                <div class="ml-4" *ngIf="row.statusTracker != null">
                    <a  href="{{row.statusTracker}}" target="_blank">                
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bullseye" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="M8 13A5 5 0 1 1 8 3a5 5 0 0 1 0 10zm0 1A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"/>
                            <path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"/>
                            <path d="M9.5 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
                          </svg>
                    </a>
                </div>
            </ng-template>
    </div>

    <motif-card class="no_data" *ngIf="searchNoDataAvilable">
        <motif-card-body>
            <h5>Your search has returned no results. Please adjust and try again.</h5>
        </motif-card-body>
    </motif-card>

    <ng-template #headerTemplate>
        <motif-icon [src]="'/assets/icons/hardware/ic_keyboard_arrow_down_24px.svg'" id="motifExampleDropdown">
        </motif-icon>
    </ng-template>

    <ng-template #dropdownTemplate>
        <motif-icon [src]="'/assets/icons/navigation/ic_more_vert_24px.svg'" id="motifDropdown"></motif-icon>
    </ng-template>

    <motif-card class="no_data" *ngIf="noCompletedDataAvilable">
        <motif-card-body>
            <h5>No results found.</h5>
        </motif-card-body>
    </motif-card>

</section>