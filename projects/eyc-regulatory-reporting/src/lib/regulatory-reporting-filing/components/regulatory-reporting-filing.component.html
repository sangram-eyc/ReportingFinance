<div class="page-header">
    <h3>Regulatory reporting</h3>
</div>
<div class="page-subheader">
    View filings in progress of intake, reporting, client review and submission. You can also view upcoming filings ready for fund scoping and client review.  
</div>
<section id="active-filings">
    <div id="active-filings-heading">
        <h5>Active filings ({{activeFilings.length}})</h5>
        <div id="carousel-arrows">
            <motif-icon [src]="'/assets/icons/navigation/ic_chevron_left_24px.svg'" (click)="activePrevSlide()" [ngClass]="{'disabled-carousel-nav': activeLeftBtnDisabled === true}"></motif-icon>
            <motif-icon [src]="'/assets/icons/navigation/ic_chevron_right_24px.svg'" (click)="activeSlick.slickNext()" [ngClass]="{'disabled-carousel-nav': activeRightBtnDisabled === true}"></motif-icon>
        </div>
    </div>
    <div id="left-carousel-blocker"></div>
    <ngx-slick-carousel class="carousel"
    [config]=slideConfig
    (afterChange)="afterChange($event)"
    #activeSlick="slick-carousel">
        <div ngxSlickItem *ngFor="let filing of activeFilings" class="slide">
            <app-filing-card [filingData]="filing"></app-filing-card>
        </div>
    </ngx-slick-carousel>
</section>

<section id="upcoming-filings">
    <div id="upcoming-filings-heading">
        <h5>Upcoming filings ({{upcomingFilings.length}})</h5>
        <div id="carousel-arrows">
            <motif-icon [src]="'/assets/icons/navigation/ic_chevron_left_24px.svg'" (click)="upcomingPrevSlide()" [ngClass]="{'disabled-carousel-nav': upcomingLeftBtnDisabled === true}"></motif-icon>
            <motif-icon [src]="'/assets/icons/navigation/ic_chevron_right_24px.svg'" (click)="upcomingSlick.slickNext()" [ngClass]="{'disabled-carousel-nav': upcomingRightBtnDisabled === true}"></motif-icon>
        </div>
    </div>
    <div id="left-carousel-blocker"></div>
    <ngx-slick-carousel class="carousel"
    [config]=slideConfig
    (afterChange)="afterChangeUpcomingFilings($event)"
    #upcomingSlick="slick-carousel">
        <div ngxSlickItem *ngFor="let filing of upcomingFilings" class="slide">
            <app-filing-card [filingData]="filing"></app-filing-card>
        </div>
    </ngx-slick-carousel>
</section>

<section id="reports-history">
    <div id="reports-history-heading">
        <h5>Reports History ({{completedFilings.length}})</h5>
        <motif-form-field>
            <input #reportHistorySearch motifInput motifSearch type="text" (keyup.enter)="searchCompleted(reportHistorySearch)" placeholder="Search filing names..." aria-label="Search">
        </motif-form-field>
    </div>
    <div id="grid-wrapper">
        <ag-grid-angular
            class="ag-theme-alpine"
            (gridReady)="onGridReady($event)"
            [columnDefs]="columnDefs"
            [rowData]="rowData"
            [rowHeight]="74"
            [rowClass]="rowClass"
            [domLayout]="domLayout"
            [paginationPageSize]="10"
            [pagination]="true"
        ></ag-grid-angular>
    </div>
</section>

<ng-template #headerTemplate>
    <motif-icon
        [src]="'/assets/icons/hardware/ic_keyboard_arrow_down_24px.svg'"
        id="motifExampleDropdown"
    ></motif-icon>
</ng-template>

<ng-template #dropdownTemplate>
    <motif-icon
        [src]="'/assets/icons/navigation/ic_more_vert_24px.svg'"
        id="motifDropdown"
    ></motif-icon>
</ng-template>

